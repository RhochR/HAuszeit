<!DOCTYPE html>
<html>
  <head>
    <title>Max and Min Temperature Display</title>
    <meta name="viewport" content="width=100, height=30">
    <style>
      code {
        display: block;
        overflow-x: auto;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>

    <center>    
      <h1>Aktuell:</h1>
      <img id="icon">
      <span id="temp"></span>

    </center>

    <script>
var url
fetch('https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&current_weather=true&timezone=Europe%2FBerlin&forecast_days=1')
  .then(response => response.json())
  .then(data => {
    console.log("fetched data!")
    
    const temp = data.current_weather.temperature;
    const code_ = data.current_weather.weather_code;
    const code = JSON.stringify(code_);
    console.log(code)
    if(code == 0) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/clear-day.svg"};
    if(code == 1 || 2 || 3) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/cloudy-1-day.svg"};
    if(code == 45) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/fog.svg"};
    if(code == 48) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/fog-day.svg"};
    if(code == 51 || 53 || 55) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/rainy-1-day.svg"};
    if(code == 56 || 57) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/rain-and-snow-mix.svg"};
    if(code == 61 || 80) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/rainy-1.svg"};
    if(code == 63 || 81) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/rainy-2.svg"};
    if(code == 65 || 82) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/rainy-3.svg"};
    if(code == 66 || 67) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/rain-and-snow-mix.svg"};
    if(code == 71) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/snowy-1.svg"};
    if(code == 73) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/snowy-2.svg"};
    if(code == 75 || 77) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/snowy-3.svg"};
    if(code == 95) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/isolated-thunderstorms.svg"};
    if(code == 96 || 99) {var url = "https://raw.githubusercontent.com/Makin-Things/weather-icons/master/animated/thunderstorms.svg"};
    document.getElementById("temp").textContent = temp;
    document.getElementById("icon").src=url;
  })
  .catch(error => console.log(error));


    </script>
  </body>
</html>
